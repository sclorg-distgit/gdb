Index: gdb-7.12.50.20170207/gdb/valops.c
===================================================================
--- gdb-7.12.50.20170207.orig/gdb/valops.c	2017-02-26 17:26:43.839146565 +0100
+++ gdb-7.12.50.20170207/gdb/valops.c	2017-02-26 17:28:40.840988272 +0100
@@ -1112,6 +1112,8 @@
 	struct gdbarch *gdbarch;
 	int value_reg;
 
+	value_reg = VALUE_REGNUM (toval);
+
 	/* Figure out which frame this is in currently.
 	
 	   We use VALUE_FRAME_ID for obtaining the value's frame id instead of
@@ -1121,8 +1123,14 @@
 	   frame.  */
 	frame = frame_find_by_id (VALUE_FRAME_ID (toval));
 
-	value_reg = VALUE_REGNUM (toval);
-
+	/* "set $reg+=1" should work on programs with no debug info,
+	   but frame_find_by_id returns NULL here (RH bug 436037).
+	   Use current frame, it represents CPU state in this case.
+	   If frame_find_by_id is changed to do it internally
+	   (it is contemplated there), remove this.  */
+	if (!frame)
+	  frame = get_current_frame ();
+	/* Probably never happens.  */
 	if (!frame)
 	  error (_("Value being assigned to is no longer active."));
 
